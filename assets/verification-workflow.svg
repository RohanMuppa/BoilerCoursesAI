<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 840 380">
  <defs>
    <filter id="s" x="-4%" y="-4%" width="108%" height="116%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <marker id="ar" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L7,3 z" fill="#ccc"/>
    </marker>
    <marker id="arR" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L7,3 z" fill="#ef4444"/>
    </marker>
  </defs>

  <rect width="840" height="380" fill="#fafafa"/>

  <text x="420" y="36" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="20" font-weight="700" fill="#111">Multi-Agent Verification Workflow</text>
  <text x="420" y="56" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="12" fill="#888">Circuit analysis pipeline with error correction</text>

  <!-- Phase 0 -->
  <rect x="20" y="80" width="145" height="100" rx="10" fill="#6366f1" filter="url(#s)"/>
  <text x="92" y="105" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="1">PHASE 0</text>
  <text x="92" y="125" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Image Parsing</text>
  <text x="92" y="147" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Circuit Parser</text>
  <text x="92" y="163" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Topology Verifier</text>

  <line x1="165" y1="130" x2="185" y2="130" stroke="#ccc" stroke-width="1.5" marker-end="url(#ar)"/>

  <!-- Phase 1 -->
  <rect x="195" y="80" width="145" height="100" rx="10" fill="#8b5cf6" filter="url(#s)"/>
  <text x="267" y="105" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="1">PHASE 1</text>
  <text x="267" y="125" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Problem Intake</text>
  <text x="267" y="147" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Problem Parser</text>
  <text x="267" y="163" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Textbook Method</text>

  <line x1="340" y1="130" x2="360" y2="130" stroke="#ccc" stroke-width="1.5" marker-end="url(#ar)"/>

  <!-- Phase 2 -->
  <rect x="370" y="80" width="145" height="100" rx="10" fill="#ec4899" filter="url(#s)"/>
  <text x="442" y="105" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="1">PHASE 2</text>
  <text x="442" y="125" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Solution</text>
  <text x="442" y="147" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">SymPy Solver</text>
  <text x="442" y="163" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Symbolic + Numeric</text>

  <line x1="515" y1="130" x2="535" y2="130" stroke="#ccc" stroke-width="1.5" marker-end="url(#ar)"/>

  <!-- Phase 3 -->
  <rect x="545" y="80" width="145" height="100" rx="10" fill="#f59e0b" filter="url(#s)"/>
  <text x="617" y="105" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="1">PHASE 3</text>
  <text x="617" y="125" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Verification</text>
  <text x="617" y="143" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Units Checker</text>
  <text x="617" y="157" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Sanity Checker</text>
  <text x="617" y="171" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Method Verifier</text>

  <!-- Error feedback loop -->
  <path d="M545 175 L442 175 L442 180" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#arR)"/>
  <text x="493" y="192" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="500" fill="#ef4444">Error? Rerun</text>

  <!-- Arrow down to Phase 4 -->
  <line x1="617" y1="180" x2="617" y2="210" stroke="#ccc" stroke-width="1.5"/>
  <line x1="617" y1="210" x2="740" y2="210" stroke="#ccc" stroke-width="1.5"/>
  <line x1="740" y1="210" x2="740" y2="225" stroke="#ccc" stroke-width="1.5" marker-end="url(#ar)"/>

  <!-- Phase 4 -->
  <rect x="680" y="235" width="140" height="70" rx="10" fill="#10b981" filter="url(#s)"/>
  <text x="750" y="260" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="1">PHASE 4</text>
  <text x="750" y="280" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Synthesis</text>
  <text x="750" y="298" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Final answer + confidence</text>

  <!-- Bottom info cards -->
  <rect x="20" y="240" width="180" height="110" rx="8" fill="#fff" stroke="#e5e5e5" stroke-width="1" filter="url(#s)"/>
  <text x="110" y="264" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="600" fill="#333">Verification Checks</text>
  <text x="40" y="284" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Units consistency</text>
  <text x="40" y="300" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Physical reasonableness</text>
  <text x="40" y="316" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Textbook methodology</text>
  <text x="40" y="332" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">KCL/KVL compliance</text>

  <circle cx="33" cy="280" r="3.5" fill="#10b981"/>
  <circle cx="33" cy="296" r="3.5" fill="#10b981"/>
  <circle cx="33" cy="312" r="3.5" fill="#10b981"/>
  <circle cx="33" cy="328" r="3.5" fill="#10b981"/>

  <!-- Confidence -->
  <rect x="220" y="240" width="200" height="110" rx="8" fill="#fff" stroke="#e5e5e5" stroke-width="1" filter="url(#s)"/>
  <text x="320" y="264" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="600" fill="#333">Confidence Levels</text>

  <rect x="240" y="278" width="50" height="18" rx="9" fill="#10b981"/>
  <text x="265" y="291" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="600" fill="#fff">HIGH</text>
  <text x="300" y="291" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">All pass first try</text>

  <rect x="240" y="304" width="50" height="18" rx="9" fill="#f59e0b"/>
  <text x="265" y="317" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="600" fill="#fff">MED</text>
  <text x="300" y="317" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Reruns needed</text>

  <rect x="240" y="330" width="50" height="18" rx="9" fill="#ef4444"/>
  <text x="265" y="343" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="600" fill="#fff">LOW</text>
  <text x="300" y="343" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Flags remain</text>

  <!-- Model config -->
  <rect x="440" y="240" width="200" height="80" rx="8" fill="#fff" stroke="#e5e5e5" stroke-width="1" filter="url(#s)"/>
  <text x="540" y="264" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="600" fill="#333">Model Config</text>
  <rect x="460" y="280" width="55" height="18" rx="9" fill="#d97706"/>
  <text x="487" y="293" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="600" fill="#fff">Opus</text>
  <text x="525" y="293" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">Orchestration</text>
  <rect x="460" y="304" width="55" height="18" rx="9" fill="#2563eb"/>
  <text x="487" y="317" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="600" fill="#fff">Sonnet</text>
  <text x="525" y="317" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#666">All subagents</text>
</svg>
